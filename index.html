<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>How Well Do You Know Your Sister?</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Baloo+2&display=swap" rel="stylesheet" />
  <style>
    /* Reset and body */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Baloo 2', cursive;
      background: #fff9f5;
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* Floral hand-drawn background SVG fills the page */
    #floral-background {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
      z-index: 0;
      user-select: none;
      opacity: 0.18;
      filter: drop-shadow(0 0 2px rgba(150, 100, 100, 0.15));
    }

    /* Overlay quiz container */
    .overlay {
      background: rgba(255, 248, 225, 0.95);
      padding: 2rem 2.5rem;
      border-radius: 20px;
      max-width: 750px;
      margin: 3rem auto 5rem auto;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.12);
      position: relative;
      z-index: 10;
      text-align: center;
    }

    h1 {
      color: #d84315;
      font-family: 'Pacifico', cursive;
      font-size: 2.8rem;
      margin-bottom: 1.5rem;
      user-select: none;
    }

    img.main-img {
      width: 100%;
      max-height: 250px;
      border-radius: 14px;
      margin-bottom: 1.5rem;
      object-fit: cover;
      user-select: none;
      box-shadow: 0 4px 10px rgba(216, 67, 21, 0.3);
    }

    .slide {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
      user-select: none;
    }

    .slide.active {
      display: block;
      opacity: 1;
      animation: fadeIn 0.6s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    input[type="text"] {
      padding: 0.7rem 1rem;
      width: 80%;
      font-size: 1.1rem;
      border: 2.5px solid #ffd54f;
      border-radius: 10px;
      margin-top: 1rem;
      margin-bottom: 1.3rem;
      font-family: 'Baloo 2', cursive;
      box-shadow: inset 0 2px 5px rgba(255, 213, 79, 0.5);
      transition: border-color 0.3s ease;
    }
    input[type="text"]:focus {
      border-color: #ffab40;
      outline: none;
      box-shadow: 0 0 8px #ffab40;
    }

    /* Updated buttons with floral vibe and better contrast */
    .rakhi-btn {
      background: linear-gradient(135deg, #fceabb, #f8b500);
      color: #6b3e00;
      padding: 1rem 2.4rem;
      border: none;
      font-size: 1.15rem;
      border-radius: 40px;
      width: 140px;
      height: 52px;
      margin-top: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(248, 181, 0, 0.6);
      transition: all 0.35s ease;
      font-weight: 700;
      font-family: 'Baloo 2', cursive;
      user-select: none;
      letter-spacing: 0.03em;
      text-shadow: 0 1px 0 rgba(255, 255, 255, 0.7);
    }
    .rakhi-btn:hover, .rakhi-btn:focus {
      background: linear-gradient(135deg, #f8b500, #fceabb);
      box-shadow: 0 6px 20px rgba(248, 181, 0, 0.9);
      transform: scale(1.12);
      outline: none;
    }

    .footer {
      margin-top: 2.5rem;
      font-style: italic;
      color: #5d4037;
      user-select: none;
    }

    .final-rakhi-choice {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1.2rem;
      margin-top: 2.2rem;
      user-select: none;
    }

    .final-rakhi-choice img {
      width: 110px;
      cursor: pointer;
      border: 3.8px solid transparent;
      border-radius: 50%;
      transition: border-color 0.3s ease;
      box-shadow: 0 4px 8px rgba(200, 100, 100, 0.15);
    }

    .final-rakhi-choice img:hover {
      border-color: #ff6f00;
      box-shadow: 0 6px 15px rgba(255, 111, 0, 0.8);
    }

    #hand-tie {
      display: none;
      margin-top: 2.5rem;
      animation: fadeIn 2s ease;
      user-select: none;
    }

    #hand-tie p {
      font-size: 1.3rem;
      user-select: text;
    }

    /* Flower SVG petals container */
    .flower-svg {
      position: absolute;
      width: 80px;
      height: 80px;
      pointer-events: none;
      user-select: none;
    }

    /* Animations for flower petals */
    @keyframes bloomScale {
      0% { opacity: 0; transform: scale(0) rotate(0deg); }
      50% { opacity: 1; transform: scale(1.2) rotate(15deg); }
      100% { opacity: 1; transform: scale(1) rotate(0deg); }
    }

    @keyframes floatFade {
      0% { opacity: 1; transform: translateY(0) translateX(0) rotate(0deg); }
      100% { opacity: 0; transform: translateY(-120px) translateX(20px) rotate(45deg); }
    }

  </style>
</head>
<body>

  <!-- Floral hand-drawn SVG background -->
  <svg id="floral-background" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet" aria-hidden="true" focusable="false">
    <g stroke="#d88c72" stroke-width="1.4" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <!-- Flower 1 -->
      <circle cx="120" cy="150" r="18" fill="none"/>
      <path d="M120 132 q-16 15 0 36" />
      <path d="M120 132 q16 15 0 36" />
      <path d="M104 150 q16 -15 32 0" />
      <path d="M104 168 q16 15 32 0" />
      <path d="M120 132 q0 30 0 48" />
      <!-- Flower 2 -->
      <circle cx="650" cy="130" r="20" fill="none"/>
      <path d="M650 110 q-20 20 0 48" />
      <path d="M650 110 q20 20 0 48" />
      <path d="M630 130 q20 -20 40 0" />
      <path d="M630 170 q20 20 40 0" />
      <path d="M650 110 q0 40 0 60" />
      <!-- Leaves and stems -->
      <path d="M100 250 q20 80 60 60" />
      <path d="M200 300 q40 -60 80 -50" />
      <path d="M600 200 q-50 70 -30 130" />
      <path d="M700 240 q-60 80 -100 90" />
      <!-- Flower 3 -->
      <circle cx="400" cy="650" r="25" fill="none"/>
      <path d="M400 625 q-25 25 0 60" />
      <path d="M400 625 q25 25 0 60" />
      <path d="M375 650 q25 -25 50 0" />
      <path d="M375 700 q25 25 50 0" />
      <path d="M400 625 q0 60 0 80" />
      <!-- Decorative curly lines -->
      <path d="M480 600 q30 20 50 50" />
      <path d="M550 640 q-25 15 -40 40" />
      <path d="M500 600 q-20 10 -30 30" />
    </g>
  </svg>

  <!-- Quiz container -->
  <div class="overlay" role="main" aria-label="Quiz: How Well Do You Know Your Sister?">
    <h1>How Well Do You Know Your Sister?</h1>
    <img
      class="main-img"
      src="https://images.unsplash.com/photo-1597157631266-60d8db00f8f5"
      alt="Rakhi celebration"
      draggable="false"
    />

    <div id="slides">
      <!-- Questions and answers slides -->
      <div class="slide active">
        <p>1. What is my favorite dessert?</p>
        <input type="text" id="answer1" placeholder="Type your answer..." aria-label="Answer to question 1" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Kheer / Choorma</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>2. Which subject did I hate in school?</p>
        <input type="text" id="answer2" placeholder="Type your answer..." aria-label="Answer to question 2" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Social Science</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>3. What‚Äôs the one movie I can watch over and over?</p>
        <input type="text" id="answer3" placeholder="Type your answer..." aria-label="Answer to question 3" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Hera Pheri / Guru / Vivah / K3G / Jannat</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>4. What did I always steal from your room as kids?</p>
        <input type="text" id="answer4" placeholder="Type your answer..." aria-label="Answer to question 4" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: You know better ;)</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>5. If I could teleport anywhere right now, where would I go?</p>
        <input type="text" id="answer5" placeholder="Type your answer..." aria-label="Answer to question 5" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Home</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>6. What‚Äôs my secret talent?</p>
        <input type="text" id="answer6" placeholder="Type your answer..." aria-label="Answer to question 6" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Bata dungi to secret kaise rahega!</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>7. Who was my childhood celebrity crush?</p>
        <input type="text" id="answer7" placeholder="Type your answer..." aria-label="Answer to question 7" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Govinda</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>8. What‚Äôs one thing you do that always annoys me?</p>
        <input type="text" id="answer8" placeholder="Type your answer..." aria-label="Answer to question 8" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: I don't know. You don't know.</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>9. What‚Äôs my go-to comfort food when I‚Äôm upset?</p>
        <input type="text" id="answer9" placeholder="Type your answer..." aria-label="Answer to question 9" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: Poori ke sath poori</p>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>10. Finish the sentence: ‚ÄúYou‚Äôre my brother, but sometimes I feel like ___.‚Äù</p>
        <input type="text" id="answer10" placeholder="Type your answer..." aria-label="Answer to question 10" />
        <button class="rakhi-btn" onclick="submitAnswer()">Submit</button>
      </div>
      <div class="slide">
        <p>Correct Answer: [You decide the ending]</p>
        <div class="footer">
          No matter your score ‚Äî you're stuck with me forever. Happy Raksha Bandhan!
        </div>
        <button class="rakhi-btn" onclick="nextSlide()">Next</button>
      </div>

      <div class="slide">
        <p>Choose your Rakhi to tie on my wrist ü§ó</p>
        <div class="final-rakhi-choice" aria-label="Choose a Rakhi to tie on sister's wrist">
          <img src="https://i.ibb.co/TrjFmqh/rakhi1.png" onclick="tieRakhi(this.src)" alt="rakhi1" />
          <img src="https://i.ibb.co/S7HxGJL/rakhi2.png" onclick="tieRakhi(this.src)" alt="rakhi2" />
          <img src="https://i.ibb.co/xXMq2zp/rakhi3.png" onclick="tieRakhi(this.src)" alt="rakhi3" />
        </div>
        <div id="hand-tie" aria-live="polite">
          <p>üéâ Aww! You tied this one on me ü•π‚ù§Ô∏è</p>
          <img id="chosen-rakhi" src="" alt="Chosen Rakhi" style="width:150px; margin-top:1rem; border-radius:50%; border:4px solid #ffab40;" />
          <div class="footer">Happy Raksha Bandhan! I love you forever. üíõ</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Flower animation container -->
  <div id="flower-animation"></div>

  <!-- Flower sound effect -->
  <audio id="flower-sound" src="https://actions.google.com/sounds/v1/ambiences/flowers_blooming.ogg" preload="auto"></audio>

  <script>
    window.onload = function () {
      let currentSlide = 0;
      const slideElements = document.querySelectorAll(".slide");
      const flowerContainer = document.getElementById('flower-animation');
      const flowerSound = document.getElementById('flower-sound');

      function createPetalSVG(angle, delay, color, parent) {
        const ns = "http://www.w3.org/2000/svg";
        const petal = document.createElementNS(ns, "ellipse");
        petal.setAttribute("cx", "40");
        petal.setAttribute("cy", "20");
        petal.setAttribute("rx", "12");
        petal.setAttribute("ry", "28");
        petal.setAttribute("fill", color);
        petal.setAttribute("opacity", "0");
        petal.style.transformOrigin = "40px 40px";
        petal.style.transform = `rotate(${angle}deg) scale(0)`;
        petal.style.animation = `bloomScale 700ms ease forwards`;
        petal.style.animationDelay = delay + "ms";

        parent.appendChild(petal);

        // Float and fade after bloom
        setTimeout(() => {
          petal.style.animation = `floatFade 1500ms ease forwards`;
          petal.style.animationDelay = "0ms";
        }, 700 + delay);

        // Remove after animation
        setTimeout(() => {
          if (parent.contains(petal)) parent.removeChild(petal);
        }, 2200 + delay);
      }

      function createFlower(x, y) {
        const container = document.createElement("div");
        container.className = "flower-svg";
        container.style.left = `${x}px`;
        container.style.top = `${y}px`;

        const ns = "http://www.w3.org/2000/svg";
        const svg = document.createElementNS(ns, "svg");
        svg.setAttribute("width", "80");
        svg.setAttribute("height", "80");
        svg.setAttribute("viewBox", "0 0 80 80");

        svg.style.overflow = "visible";

        container.appendChild(svg);
        flowerContainer.appendChild(container);

        const colors = ["#f8bbd0", "#f48fb1", "#ce93d8", "#ba68c8", "#ec407a", "#d81b60"];

        for (let i = 0; i < 6; i++) {
          createPetalSVG(i * 60, i * 120, colors[i % colors.length], svg);
        }

        setTimeout(() => {
          if (flowerContainer.contains(container))
            flowerContainer.removeChild(container);
        }, 2500);
      }

      function triggerFlowerAnimation() {
        const centerX = window.innerWidth / 2 + (Math.random() * 100 - 50);
        const centerY = window.innerHeight / 3 + (Math.random() * 50 - 25);

        for (let i = 0; i < 3; i++) {
          setTimeout(() => {
            createFlower(centerX + (Math.random() * 60 - 30), centerY + (Math.random() * 40 - 20));
          }, i * 400);
        }

        if (flowerSound) {
          flowerSound.currentTime = 0;
          flowerSound.volume = 0.3;
          flowerSound.play();
        }
      }

      function showSlide(index) {
        if (index < 0 || index >= slideElements.length) return;
        slideElements[currentSlide].classList.remove("active");
        slideElements[index].classList.add("active");
        currentSlide = index;
      }

      window.nextSlide = function () {
        if (currentSlide + 1 < slideElements.length) {
          showSlide(currentSlide + 1);
        }
      };

      window.submitAnswer = function () {
        // You can do answer validation or collection here if needed

        // Play flower animation on submit
        triggerFlowerAnimation();

        // Move to answer slide next (which is currentSlide + 1)
        if (currentSlide + 1 < slideElements.length) {
          showSlide(currentSlide + 1);
        }
      };

      window.tieRakhi = function (src) {
        document.getElementById("hand-tie").style.display = "block";
        document.getElementById("chosen-rakhi").src = src;
      };

      // Initialize first slide active
      slideElements.forEach((s, i) => s.classList.remove("active"));
      slideElements[0].classList.add("active");
    };
  </script>
</body>
</html>
